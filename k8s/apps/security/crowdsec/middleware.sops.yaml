# yaml-language-server: $schema=https://raw.githubusercontent.com/datreeio/CRDs-catalog/main/traefik.io/middleware_v1alpha1.json
apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
    name: bouncer
    namespace: crowdsec
spec:
    plugin:
        crowdsec:
            enabled: true
            crowdsecMode: appsec
            crowdsecAppsecEnabled: true
            crowdsecAppsecHost: crowdsec-crowdsec-appsec-service.crowdsec.svc.cluster.local:7422
            crowdsecAppsecFailureBlock: false
            crowdsecAppsecUnreachableBlock: false
            crowdsecLapiHost: crowdsec-crowdsec-service.crowdsec.svc.cluster.local:8080
            crowdsecLapiKey: ENC[AES256_GCM,data:FGo44VbXSpUT/7G6ntAIxifK30FKsQZh9dXeJwETS9e9xBKYXCH08Dr2Qw==,iv:C1K91Aw6vqw4rizbiZegIRjoKOveho+hUhYZqZ9KME8=,tag:KrUdsrYG+AEEeKNTcQleKw==,type:str]
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1exncnhces66v0uc67xm009v2d2237hgdxtaa8tdy0hvusexjry0qye4ad2
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSA3b1V6aS9xREtqTUdPZ3BL
            WldxZytQVm8wNkdlZnhReVQzVWVGVUNpVjNBCm5iRE5sdlZRVWluUTl3OCtGb2t3
            Wk00cm9GUmJOMG5iQ3ZLTDU5bGxrRGsKLS0tIDBteHdEM0o1WnBtbHozY0FzMUx6
            eHF5VlVZUmpKMDlBWWtrNmVIV2NmWHcKP6Uc2kzbKkXWHpUiqkcvqa5JJVtSqhD6
            A06dfYxRic42soyiaLME7oLLLSkz/84+gYnUF7jkAfgv3Mg7jHRSag==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-02-09T18:40:27Z"
    mac: ENC[AES256_GCM,data:Je8axf1W+f+v/0mPU7m63Bn+i1qPMYGWEW4ntnHdBKu/3dkSt7atC+3s1El+nrJsGPIeyXnq42m7aiTYnebwqhjB654OdnXS3XjWlRS7mcKX/xYVTOId4rqCuC60YOX6bvV5yYj0/1urMutZLqJJavTsAI1/Ur7l3GuZcNOL334=,iv:TlDvGc0iPJUqE4bj2HflIyY0M70PjLkhv/6whYq12PY=,tag:bdkkihOhlbark4u7oUsqnQ==,type:str]
    pgp:
        - created_at: "2025-02-09T18:40:27Z"
          enc: |-
            -----BEGIN PGP MESSAGE-----

            hQEMAzB6fv8Ha/LEAQf/WYH9+R/jEPh2fcsyHZgFNXyl5iklXREgX/OXxyv4hq+8
            w40pe8FEg/4Ka1dw7KZwkOj7Le1Wg9Q1S5EFiTKVyHT2qcmdeSMudA6rboJrHIHP
            SoltTio/WABpgeVqItrpDldTgeb8Au2KsWpQXuSXNzOHNrfhDlNE6L1XGQufhI5W
            oHieSHDdpY8v6L7U12djQAvPExH/j7iLTBAw6rY8QL/sQvGGzprvLngp2Iv54J+D
            PKWPh4ZCAWZOn0Y6G0D7Tc09olvPzlDFTg1XGvIQgUAuMVIZ5L8US01uIe/Dt2F6
            0gK/aBXW8zWxICbEYEKlqMYaPjGyF1o3MFuLzMJin9JeAeajQFaLyHTdgYmo54As
            lp9m1g0pYNnaRo89e+zs5iiJctmEUWvXm7Uzs6nPv8TD4A+3kXfegmBeZm86U/h/
            G2e9bkQYjr3DmyMiN6dfp0tsM0iSGPSZ4X6+j5PkmQ==
            =Hgag
            -----END PGP MESSAGE-----
          fp: C5B9ADB07DBE5A2E
    encrypted_regex: ^(data|stringData|crowdsecLapiKey)$
    version: 3.9.3
