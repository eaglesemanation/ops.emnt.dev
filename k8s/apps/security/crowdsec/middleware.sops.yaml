# yaml-language-server: $schema=https://raw.githubusercontent.com/datreeio/CRDs-catalog/main/traefik.io/middleware_v1alpha1.json
apiVersion: traefik.io/v1alpha1
kind: Middleware
metadata:
    name: bouncer
    namespace: crowdsec
spec:
    plugin:
        crowdsec:
            enabled: true
            crowdsecMode: appsec
            crowdsecAppsecEnabled: true
            crowdsecAppsecHost: crowdsec-crowdsec-appsec-service.crowdsec.svc.cluster.local:7422
            crowdsecAppsecFailureBlock: false
            crowdsecAppsecUnreachableBlock: false
            crowdsecLapiHost: crowdsec-crowdsec-service.crowdsec.svc.cluster.local:8080
            crowdsecLapiKey: ENC[AES256_GCM,data:q4RpioHSoM/iFf0lcwjYogsm/uSbNdh8SpD1yt0VyxnrhtzIDLWx1ZBfYg==,iv:UoKJcJobt40TNwOY9wCE1WEY23rj2WQ2XWzAoYrtfuE=,tag:18jSZHHi7RAQsOMkQ4KBLQ==,type:str]
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1exncnhces66v0uc67xm009v2d2237hgdxtaa8tdy0hvusexjry0qye4ad2
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBMY3pVd2dyZ0NxaTkyS1pZ
            U293Y1F6dDhjdHRaTXd4OWFpZHVGZHowMW1rClRHbDk0TDg4QUFvVkh3d1ljazNw
            SitwY3c2VUwrKzJkL2w3cXk3TllrancKLS0tIFFFWU9VVnl2aExoWFNGdmZMRTBw
            eWk4MnZWQWFMSjk0dDJWaGJHMTYrbTgKswH+4z7VmCaic918omW5r16gz5xx2eyU
            vI82rxziHclWEHZrzQ1Yh0DOCK82MuvdUgsLmrNzXC6IEaeaS9NykA==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2025-02-09T07:03:05Z"
    mac: ENC[AES256_GCM,data:n+Xp5ItsMjRJ8JWLwVJ5UCJsuqP7LaR/2qyS35ou+pxdBFCqQpvkGjlPoJy24d91geVHIPnb2y20zPu/skDijOVK1d5TUHH+wKSHloLr8P6bkKBv+xp44mTjs4nCxhjiKEhJ7umlW/540orbQAMleZ8h8Jopdjew0d+oek8lkP4=,iv:xrHQ5vnotzR691XOA054G823Qkuh/pM2+qHMpk+oG7o=,tag:a+7hdVFkUXlRvhZCCCN2ZQ==,type:str]
    pgp:
        - created_at: "2025-02-09T07:03:05Z"
          enc: |-
            -----BEGIN PGP MESSAGE-----

            hQEMAzB6fv8Ha/LEAQf/XG2hUaUwCjkJUzxL4OiVgOIJN5iUeNaHKIPJS4T0NBCY
            lwJmdxrmqythFf2qQWrpYrKVzWLsQgKdVKjsUimCo/9ELmeqb19F/aFEIdOcgwiI
            pOk4IeFZQQb3bTUfenrZYniV1/u1IYAomWfqunSHAmRXXIaJib2rV4WM8q1wG676
            v+Dh77AIB/az3SSUnT4kLVNV087/yocx+Bb2BwgXzzekuNQIivWIPDJsjpeuqnTM
            BNgdScWvAOwRyg03Uf/Wfcti4myvdpo53PxdGAWD161ib5Fon2hXeMDgnaZWSY9R
            yotwcYshcufJSC+vn82B4oQTaBSB6zJBU/W3u9MCJNJeAU49s8bPVg2ecyyPDbt1
            vUgHxdUue81h3GM2Z6jDWRqCIszz4XR7pbFGVH1IVfHgqKmDjDdeQVdrFdxsyi+9
            UfJ1npRCgdYRgvyKAogr8zI0r6pmQ/aZOInXY2RBgQ==
            =cGCm
            -----END PGP MESSAGE-----
          fp: C5B9ADB07DBE5A2E
    encrypted_regex: ^(data|stringData|crowdsecLapiKey)$
    version: 3.9.3
